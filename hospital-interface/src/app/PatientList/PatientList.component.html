<div (click)="close()" *ngIf="onAdd||onUpdate||onDelete" style="position: fixed;

background: black;

top: 0px;

opacity: 0.4;

height: 100%;

width: 100%;

left: 0;"></div>


<div  *ngIf="onAdd||onUpdate||onDelete" style="position: fixed;

top: 50%;

left: 50%;

background: white;

border-radius: 10px;

padding: 10px;
transform: translate(-50%,-50%);">
  <form *ngIf="onAdd||onUpdate" (ngSubmit)="submit()" #patientForm="ngForm">
    <span *ngIf="onAdd">
      Nouveau patient :
    </span>
    <span *ngIf="onUpdate">
      Mise à jour patient :
    </span>

    <fieldset>
      <legend>Profile</legend>
      <table>
        <tr>
          <td><label for="first-name">Prénom</label></td>
          <td><input [(ngModel)]="model.firstName" id="first-name" name="first-name" type="text" placeholder="Prénom" required autofocus></td>
        </tr>
        <tr>
          <td><label for="last-name">Nom</label></td>
          <td><input [(ngModel)]="model.lastName" id="last-name" name="last-name" type="text" placeholder="Nom" required></td>
        </tr>
        <tr>
          <td><label for="birthday">Date de naissance</label></td>
          <td><input [(ngModel)]="model.birthDate" id="birthday" name="birthday" type="date"  required></td>
        </tr>
      </table>
    </fieldset>
    <fieldset>
        <legend>Contact</legend>
        <table>
          <tr>
            <td><label for="address">Adresse</label></td>
            <td><input [(ngModel)]="model.address" id="address" name="address" type="text" required></td>
          </tr>
          <tr>
            <td><label for="phone">Numéro du portable</label></td>
            <td><input [(ngModel)]="model.phone" id="phone" name="phone" type="text" required></td>
          </tr>
        </table>
      </fieldset>
    <table>
      <tr>
        <td><button type="submit" [disabled]="!patientForm.form.valid">Confirmer</button></td>
        <td><button (click)="close()">Annuler</button></td>
      </tr>
    </table>
  </form>

  <form *ngIf="onDelete">
    <span>
      Vous être sure de supprimer ces élements ?
    </span>
    <table>
    <tr  *ngFor="let patient of this.selected(); let i = index">
      <td>{{ patient.firstName }}</td>
      <td>{{ patient.lastName }}</td>
      <td>{{ patient.address }}</td>
      <td>{{ patient.phone }}</td>
      <td>{{ patient.birthDate }}</td>
    </tr>
  </table>
  <table>
    <tr>
      <td><button (click)="submite()">Confirmer</button></td>
      <td><button (click)="close()">Annuler</button></td>
    </tr>
  </table>
  </form>
</div>









<table>
  <tr>
    <th></th>
    <th>Prénom</th>
    <th>Nom</th>
    <th>Adresse</th>
    <th>Télephone</th>
    <th>Date de naissance</th>
  </tr>
  <tr [(ngModel)]="pList" name="pList" *ngFor="let patient of pList; let i = index" ngDefaultControl>
    <td >
      <input  type="checkbox" id="ck-{{i+1}}" (change)="checking(i)">
    </td>
    <td (click)="check('ck-'+(i+1),i)">{{ patient.firstName }}</td>
    <td (click)="check('ck-'+(i+1),i)">{{ patient.lastName }}</td>
    <td (click)="check('ck-'+(i+1),i)">{{ patient.address }}</td>
    <td (click)="check('ck-'+(i+1),i)">{{ patient.phone }}</td>
    <td (click)="check('ck-'+(i+1),i)">{{ patient.birthDate }}</td>
  </tr>
</table>








<ul>
  <li *ngIf="!(onSelect)"><button [disabled]="onSelect" (click)="adding()">Ajouter</button></li>
  <li *ngIf="this.selected().length===1"><button [disabled]="this.selected().length!==1" (click)="updating()">Modifier</button></li>
  <li><button [disabled]="this.selected().length<=0" (click)="deleting()">Supprimer</button></li>

</ul>
